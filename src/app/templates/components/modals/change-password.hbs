{{#bs-modal open=open body=false footer=false
    id=modalId
    title=(t 'components.modals.changePassword.title')
    openAction="open"
    openedAction="opened"
    keyboard=(not isLoading)
    autoClose=(not isLoading)
    backdropClose=(not isLoading)
    closeButton=false
  }}
  {{#bs-modal-body}}
    {{#if errorMessage}}
      <div class="alert alert-danger">
        {{!-- TODO: close disabled --}}
        {{!-- <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a> --}}
        <strong>{{t 'components.modals.changePassword.changePasswordError'}}</strong>
        &ensp;
        {{errorMessage}}
      </div>
    {{/if}}

    {{#bs-form action=(action "submit") model=this}}
      <div class="row">
        <div class="col-xs-4">
          <label for={{concat modalId '-old-password-input'}}
            class="control-label one-line">
            {{t 'components.modals.changePassword.oldPasswordLabel'}}
          </label>
        </div>
        <div class="col-xs-8">
          {{input id=(concat modalId '-old-password-input') type="password"
            value=oldPasswordText autofocus=true disabled=isLoading
            class="form-control"
            enter=(if isSubmitEnabled (action 'submit') null)}}
        </div>
      </div>

      <div class="row">
        <div class="col-xs-4">
          <label for={{concat modalId '-new-password-input'}}
            class="control-label one-line">
            {{t 'components.modals.changePassword.newPasswordLabel'}}
          </label>
        </div>
        <div class="col-xs-8">
          {{input id=(concat modalId '-new-password-input') type="password"
            value=newPasswordText disabled=isLoading
            class="form-control"
            enter=(if isSubmitEnabled (action 'submit') null)}}
        </div>
      </div>

      <div class="row">
        <div class="col-xs-4">
          <label for={{concat modalId '-retype-new-password-input'}}
            class="control-label one-line">
            {{t 'components.modals.changePassword.retypeNewPasswordLabel'}}
          </label>
        </div>
        <div class="col-xs-8">
          {{input id=(concat modalId '-retype-new-password-input') type="password"
            value=retypeNewPasswordText disabled=isLoading
            class="form-control"
            enter=(if isSubmitEnabled (action 'submit') null)}}
        </div>
      </div>
    {{/bs-form}}

  {{/bs-modal-body}}
  {{#bs-modal-footer as |footer|}}
    {{#spin-button-onedata buttonType="submit"
      action=(action "submit")
      class="btn btn-primary no-outline" spinnerColor="#fff"
      inFlight=isLoading
      disabled=(not isSubmitEnabled)
    }}
      {{t "common.modal.ok"}}
    {{/spin-button-onedata}}
    {{#bs-button action=(action "close" target=footer) type="default"
      disabled=isLoading
    }}
      {{t "common.modal.cancel"}}
    {{/bs-button}}
  {{/bs-modal-footer}}
{{/bs-modal}}
